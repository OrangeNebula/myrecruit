## application-core

### Domain
기술 세부사항이나 관심사와 독립되어 비즈니스 로직만을 담고 있는 곳.
이 패키지는 내부로만 의존성을 가지고 있고, 바깥 레이어에 대해서는 관심사를 가지고 있지 않음.


**model**

이곳은 Entities, Aggregates, Value Objects, Domain events 가 존재하는 곳


**service**

때로는 어떤 비즈니스 로직은 하나의 엔티티나 VO 에 담기지 않고, 여러 엔티티에 걸쳐서 수행되기도 한다.
이런 비즈니스 로직은 도메인 영역을 벗어나 애플리케이션 서비스에 담기곤 하는데,
이 경우 다른 곳에 의존을 두지 않아야 할 도메인 로직이 다른 관심사에 오염되거나
재사용성을 잃어버릴 수 있다.

해결방법은 여러 엔티티를 받아 비즈니스 로직을 수행할 수 있는 도메인 서비스를 도메인 레이어에 두는 것이다.
이렇게 함으로써, 도메인 바깥의 다른 애플리케이션 레이어(다른 서비스나 리포지토리)의 관심사에서 벗어나게 할 수 있다.

도메인 서비스의 특징은 아래와 같다.
* 도메인 서비스는 하나의 모델이나 VO 에 담기지 않는 도메인 로직을 캡슐화 하고 있다.
* 도메인 서비스는 도메인 컨셉을 나타낸다. 유니쿼터스 랭귀지의 한 부분이다.
* 도메인 서비스는 상태나, 유일성을 가지는게 아니라 여러 엔티티나 VO 에 걸쳐있는 비즈니스 로직을 오케스트레이션 하는 것이다.
* 너무 많은 도메인 서비스는 문제 영역과 잘 맞지 않는 도메인 모델로 이어질 수 있는 부작용이 있다.
* 너무 적은 도메인 서비스는 도메인 로직이 잘못된 엔티티나 VO 에 위치할 가능성이 높아진다.

### Application

**port.input**

유스 케이스 (=application behavior) 인터페이스에 대한 책임을 가지는 곳이다.

**port.output**

도메인 영역과의 커플링을 방지하기 위해 기술적 관심사를 가지는 코드에 대한 인터페이스를 제공하는 곳이다. (인프라스트럭쳐에 대한 인터페이스)

**service**

어플리케이션 유스케이스에 대한 API. 도메인 레이어에 대한 의존하고 있고, 비즈니스 유스케이스를 오케스트레이션 하면서
도메인의 facade 를 담당한다.

애플리케이션 레이어의 서비스는 아래와 같은 유스케이스를 수행한다.
* 엔티티를 찾기 위해 리포지토리를 사용한다.
* 엔티티에 도메인 로직을 수행하도록 한다.
* 다시 리포지토리를 이용하여 엔티티의 영속성을 부여한다.


## adapter-output

어뎁터 그래들 모듈을 가지고 있다. output 어댑터들은 다른 애플리케이션들(마이크로서비스, 람다, 등)에서 재사용될 수 있다.

### output

outbound 어댑터는 기술적 세부사항을 담당하고 있다. (데이터베이스, 3rd party API 등)
이는 도메인 유스케이스를 서포트하기 위해 필요한 것들이다.


## ms
application-core 와 adapter-out 의 composition

**adapter input layer**

Web 이나 다른 서비스, 메시징 엔드포인트들이 애플리케이션을 사용할 수 있도록
기술적 capability 를 부여하는 곳이다. 

hexagonal 다이어그램 왼편은 클라이언트가 도메인을 사용하는 부분이고 (in),
오른쪽은 도메인이 사용하는 서비스 부분이다. (out)

**input**

클라이언트가 애플리케이션 레이어를 사용하기 위한 entry point.
inbound adapter 는 애플리케이션을 사용하기 위해 어떤 클라이언트가 요청을 하더라도
그것을 해석하는 역할을 담당한다.


## lambda
application-core 와 adapter-output 의 composition

* 스프링 bean 이 외부 모듈에서 어떻게 선언되는지...?
* ??

**adapter input layer**
AWS Lambda 가 애플리케이션 레이어를 사용할 수 있도록 제공되는 레이어


**input**






